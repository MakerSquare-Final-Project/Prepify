<h1>Listing pages</h1>

<table>
  <thead>
    <tr>
      <th>Sequence</th>
      <th>Pageable</th>
      <th>Pageable type</th>
      <th>Subject</th>
      <!-- Should add a snippet method to model -->
      <th>Body</th>
      
    </tr>
  </thead>



  <tbody>

    <% @pages.each do |page| %>
      <tr>
        <td><%= page.sequence_id %></td>
        <td><%= page.pageable_id %></td>
        <td><%= page.pageable_type %></td>
        <td><%= page.subject.name %></td>
        <% if page.pageable %>
          <td><%= page.pageable.body %></td>
        <% else %>
          <td><%= "Please add content" %></td>
       <% end %>
       
       <% if page.pageable_type == "Question" %>
        <td><%= link_to "Add Question Content" , new_admin_subject_page_question_path(@subject, page) %></td>
        <td><%= link_to "Edit Question Content" , edit_admin_subject_page_question_path(@subject, page, page.pageable.id) %></td>
        <% elsif page.pageable_type == "Instruction" %>
        <td><%= link_to "Add Instruction Content" , new_admin_subject_page_instruction_path(@subject, page) %></td>
        <td><%= link_to "Edit Instruction Content" , edit_admin_subject_page_instruction_path(@subject, page, page.pageable.id) %></td>
        <% end %>
        <td><%= link_to "Show" , admin_subject_page_path(@subject, page) %></td>
        <td><%= link_to "Edit", edit_admin_subject_page_path(@subject, page) %></td>
        <td><%= link_to "Delete", admin_subject_page_path(@subject, page) %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<%= link_to "New Page", new_admin_subject_page_path%> 

